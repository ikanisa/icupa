variable,required,stage,scope,used_by,notes
NEXT_PUBLIC_SUPABASE_URL,yes,build+runtime,client,apps/client; apps/admin,Injected by Vercel for browser Supabase client
NEXT_PUBLIC_SUPABASE_ANON_KEY,yes,build+runtime,client,apps/client; apps/admin,Public anon key paired with Supabase URL
SUPABASE_URL,yes,build+runtime,server,app; scripts/audit; ops/console,Marketing API route and deployment guard require service endpoint
SUPABASE_SERVICE_ROLE_KEY,yes,build+runtime,server,app; scripts/audit,Service role used for secure Supabase mutations
SUPABASE_SERVICE_ROLE,no,runtime,server,scripts/audit,Legacy fallback for service role key if `_KEY` unset
SUPABASE_ANON_KEY,no,runtime,server,ops/console,Optional when running Ops console against Supabase anonymously
PLAYWRIGHT_BASE_URL,no,build,tooling,app/tests,Overrides Playwright base URL in CI
VERCEL_AUTOMATION_BYPASS_SECRET,no,build,server,apps/*; app,Required when Deployment Protection is enabled
CI_OFFLINE,no,build+runtime,server,scripts/audit; ops/console,Flags offline/test mode and must be disabled for prod
OPSCONSOLE_BYPASS_AUTH,no,build+runtime,server,scripts/audit; ops/console,Disables auth for ops console; forbidden in prod
OPS_CONSOLE_BYPASS_AUTH,no,build+runtime,server,scripts/audit,Legacy spelling for bypass flag
OPSCONSOLE_OFFLINE_MODE,no,build+runtime,server,scripts/audit; ops/console,Offline toggle for ops console
STRIPE_MOCK_MODE,no,build+runtime,server,scripts/audit,Enables Stripe mock mode; must be off for live data
SUPABASE_TEST_URL,yes,test,server,tools/tests/*,Integration tests connect to Supabase test project
SUPABASE_TEST_SERVICE_ROLE_KEY,yes,test,server,tools/tests/*,Service role for contract/observability tests
SUPABASE_TEST_ANON_KEY,no,test,server,tools/tests/contracts.mjs,Falls back to service role if unset
OPS_BYPASS_ALERT_WEBHOOK_URL,no,runtime,server,ops/console/lib/bypass-alert.ts,Optional webhook for bypass alerts
VERCEL_ENV,no,build,server,ops/console/lib/env.ts,Provided by Vercel; used to categorize environment
NODE_ENV,no,build,server,ops/console/lib/env.ts,Standard Node environment variable referenced by env util
NEXT_PUBLIC_CHECKOUT_ALLOW_ANON,no,runtime,client,apps/client,Set to "1" to allow checkout without Supabase session in previews.
