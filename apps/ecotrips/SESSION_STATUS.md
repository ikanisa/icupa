# ecoTrips Session Status

## Overview
- Project path: /Users/jeanbosco/Documents/Projects/ecotrips
- Supabase project ref: woyknezboamabahknmjr

## Tooling Versions
- node: v22.17.0
- deno:
```
deno 2.4.5 (stable, release, x86_64-apple-darwin)
v8 13.7.152.14-rusty
typescript 5.8.3
```
- supabase: 2.40.7

## Git status (--porcelain)
```
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/config.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/deps.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/flows/basket.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/flows/home.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/flows/insurance.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/flows/marketplace.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/flows/nearby.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/flows/qr.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/flows/schedule.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/index.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/router/guards.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/router/router.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/rpc/marketplace.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/rpc/match.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/rpc/nearby.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/state/idempotency.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/state/store.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/utils/media.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/utils/phone.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/utils/share.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/utils/text.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/wa/client.ts
 M Documents/Projects/easymo-backend/supabase/functions/wa-webhook/wa/verify.ts
 M package-lock.json
 M package.json
 M supabase/.temp/cli-latest
 M supabase/.temp/gotrue-version
 M supabase/.temp/pooler-url
 M supabase/.temp/postgres-version
 M supabase/.temp/project-ref
 M supabase/.temp/rest-version
?? .CFUserTextEncoding
?? .android/
?? .anydesk/
?? .bash_history
?? .bash_profile
?? .bun/
?? .cache/
?? .claude.json
?? .claude.json.backup
?? .claude/
?? .codex/
?? .config/
?? .cscsigner/
?? .cups/
?? .cursor/
?? .dart-tool/
?? .dart/
?? .dartServer/
?? .docker/
?? .emulator_console_auth_token
?? .flutter
?? .gemini/
?? .gitconfig
?? .gradle/
?? .lesshst
?? .npm-global/
?? .npm/
?? .npmrc
?? .oh-my-zsh/
?? .openjfx/
?? .pdfbox.cache
?? .pgadmin/
?? .prettierignore
?? .profile
?? .psql_history
?? .pub-cache/
?? .python_history
?? .th-client/
?? .viminfo
?? .yarnrc
?? .zcompdump
?? .zprofile
?? .zprofile.pysave
?? .zsh_history
?? .zsh_sessions/
?? .zshrc
?? Applications/
?? "Creative Cloud Files nshizirungu203@gmail.com 1c629fbf074dfe42a5db84006f44506d3867600722632443eaee5c1dc44853b5/"
?? "Creative Cloud Files/"
?? Desktop/
?? Documents/.localized
?? Documents/ATA/
?? "Documents/Autonomous AI Tax Agent in Malta/"
?? Documents/BK+GI+MOTOR+TARIFF_updated.pdf
?? Documents/General_Insurance_Tariff.pdf
?? Documents/Lifuti/
?? "Documents/MUA MOTOR TARIFF.pdf"
?? Documents/Projects/Master-prompt.txt
?? Documents/Projects/easymo-backend/.vscode/
?? Documents/Projects/easymo-backend/SUPABASE_FIX_REPORT.md
?? Documents/Projects/easymo-backend/backups/
?? Documents/Projects/easymo-backend/codex_jobs/
?? Documents/Projects/easymo-backend/db_audit.md
?? Documents/Projects/easymo-backend/db_audit_todo.md
?? Documents/Projects/easymo-backend/deno.json
?? Documents/Projects/easymo-backend/deno.lock
?? Documents/Projects/easymo-backend/gaps_and_plan.md
?? Documents/Projects/easymo-backend/index.ts.tmp
?? Documents/Projects/easymo-backend/inventory_map.md
?? Documents/Projects/easymo-backend/observability.md
?? Documents/Projects/easymo-backend/preflight.md
?? Documents/Projects/easymo-backend/release_checklist.md
?? Documents/Projects/easymo-backend/scripts/
?? Documents/Projects/easymo-backend/security_perf.md
?? Documents/Projects/easymo-backend/supabase/.env
?? Documents/Projects/easymo-backend/supabase/.gitignore
?? Documents/Projects/easymo-backend/supabase/.trash_migs/
?? Documents/Projects/easymo-backend/supabase/config.toml
?? Documents/Projects/easymo-backend/supabase/functions/admin-messages/
?? Documents/Projects/easymo-backend/supabase/functions/admin-settings/
?? Documents/Projects/easymo-backend/supabase/functions/admin-stats/
?? Documents/Projects/easymo-backend/supabase/functions/admin-subscriptions/
?? Documents/Projects/easymo-backend/supabase/functions/admin-trips/
?? Documents/Projects/easymo-backend/supabase/functions/admin-users/
?? Documents/Projects/easymo-backend/supabase/functions/campaign-dispatch/
?? Documents/Projects/easymo-backend/supabase/functions/housekeeping/
?? Documents/Projects/easymo-backend/supabase/functions/issue_token/
?? Documents/Projects/easymo-backend/supabase/functions/issue_tokens/
?? Documents/Projects/easymo-backend/supabase/functions/media-fetch/
?? Documents/Projects/easymo-backend/supabase/functions/qr_info/
?? Documents/Projects/easymo-backend/supabase/functions/spend/
?? Documents/Projects/easymo-backend/supabase/functions/wa-webhook.local.1758105903/
?? Documents/Projects/easymo-backend/supabase/functions/wa-webhook/constants.ts
?? Documents/Projects/easymo-backend/supabase/functions/wa-webhook/flows/referral.ts
?? Documents/Projects/easymo-backend/supabase/functions/wa-webhook/flows/wallet.ts
?? Documents/Projects/easymo-backend/supabase/functions/wa-webhook/logger.ts
?? Documents/Projects/easymo-backend/supabase/functions/wa-webhook/services/
?? Documents/Projects/easymo-backend/supabase/functions/wa-webhook/utils/referral.ts
?? Documents/Projects/easymo-backend/supabase/migrations__archive/
?? Documents/Projects/easymo-backend/tests/
?? Documents/Projects/easymo-backend/workflow_results.md
?? Documents/Projects/ecotrips/
?? Documents/Projects/malta-qr-order/
?? Documents/Projects/wa-webhook.ts
?? Documents/Projects/watsudo-hub-79/
?? Documents/Projects/whatsapit-main/
?? "Documents/Request Lifuti here.jpg"
?? "Documents/codex-main (1).zip"
?? Documents/codex-main/
?? Documents/easyMO/
?? Documents/kigali-ride-awa/
?? Documents/malta-aat-agent-starter.tar.gz
?? Documents/tactile-ui-flow/
?? Documents/wa-webhook.ts
?? Documents/watsudo-hub-79/
?? Documents/whatsapit/
?? Downloads/
?? Library/
?? Movies/
?? Music/
?? Pictures/
?? Projects/
?? Public/.localized
?? "Public/Drop Box/"
?? Sites/
?? bun.lock
?? codex-agent/
?? dump.rdb
?? ecotrips/
?? firebase-backend/
?? gemini_test.py
?? local_norm.pem
?? local_public_from_private.pem
?? meta_norm.pem
?? meta_public.pem
?? my-codex-docs/
?? omni-agent/client.ts
?? omni-agent/config.ts
?? omni-agent/index.ts
?? omni-agent/memory.ts
?? omni-agent/utils/
?? openai_to_pinecone.pysk-proj-SGg9y8scBzcHJG4YcCIn3mJWR0_SvYheewB3nxy9EW_kk37bNeTMaVFBB_frbr8BHorukFsY2bT3BlbkFJFluiUZzU4YBG16cKTbGW5n-mm7hJZ6eFo01R9wtY9s21qnylbZbcpmGwEn5ZDevchY1YliEA0A
?? openai_to_pinecone.pysk-proj-SGg9y8scBzcHJG4YcCIn3mJWR0_SvYheewB3nxy9EW_kk37bNeTMaVFBB_frbr8BHorukFsY2bT3BlbkFJFluiUZzU4YBG16cKTbGW5n-mm7hJZ6eFo01R9wtY9s21qnylbZbcpmGwEn5ZDevchY1YliEA0A.save
?? private_pkcs8.pem
?? product_details
?? public.pem
?? supabase/.temp/storage-version
?? supabase/functions-consolidated/
```

## supabase/functions tree (ls -R, first 120 lines)
```
bff-checkout
bff-quote
stripe-webhook
supplier-webhook

supabase/functions/bff-checkout:

supabase/functions/bff-quote:

supabase/functions/stripe-webhook:

supabase/functions/supplier-webhook:
```
## Additional Context
- Git repository root: /Users/jeanbosco

## Supabase status
```
$(supabase status 2>&1)
```
## Supabase status (attempt)
```
Using workdir /Users/jeanbosco
failed to inspect container health: Cannot connect to the Docker daemon at unix:///Users/jeanbosco/.docker/run/docker.sock. Is the docker daemon running?
Try rerunning the command with --debug to troubleshoot the error.
```
## Notes
- The literal `$(supabase status 2>&1)` entry records the command invocation; see the following section for the captured output.
## Supabase start (attempt)
```
Using workdir /Users/jeanbosco
failed to inspect service: Cannot connect to the Docker daemon at unix:///Users/jeanbosco/.docker/run/docker.sock. Is the docker daemon running?
Docker Desktop is a prerequisite for local development. Follow the official docs to install: https://docs.docker.com/desktop
```
## Env Hygiene
- .env.example present with Supabase/Stripe/OpenAI placeholders.
- .env ignored via .gitignore alongside .supabase.

## Latest Smoke Perf Run
- `deno run -A ops/perf/perf_runner.ts --scenario smoke` → ✅ `p95=17.7ms`, `errors=0` against local mock Supabase (no external creds).
